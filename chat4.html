<html lang="jp">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Website</title>


</head>
<body>
<!-- Your existing content here -->
<h1>これは適当なHTMLです</h1>
<p>この段落には適当な文字列が含まれています。</p>
<p>コード変更89</p>

//メールアドレスに関するコード
    <h1>メールアドレス入力フォーム</h1>
<form id="prechatForm">
        <label for="email">メールアドレス:</label>
        <input type="email" id="email" name="email" required>
        <button type="submit">送信</button>
    </form>

// チャットに関するコード
<style type='text/css'>
	.embeddedServiceHelpButton .helpButton .uiButton {
		background-color: #005290;
		font-family: "Salesforce Sans", sans-serif;
	}
	.embeddedServiceHelpButton .helpButton .uiButton:focus {
		outline: 1px solid #005290;
	}
	@font-face {
		font-family: 'Salesforce Sans';
		src: url('https://c1.sfdcstatic.com/etc/clientlibs/sfdc-aem-master/clientlibs_base/fonts/SalesforceSans-Regular.woff') format('woff'),
		url('https://c1.sfdcstatic.com/etc/clientlibs/sfdc-aem-master/clientlibs_base/fonts/SalesforceSans-Regular.ttf') format('truetype');
	}
</style>

<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
<script type='text/javascript'>
	var initESW = function(gslbBaseURL) {
		embedded_svc.settings.displayHelpButton = true; //または false
		embedded_svc.settings.language = ''; //たとえば、「en」または「en-US」を入力します

		//embedded_svc.settings.defaultMinimizedText = '...'; //(エキスパートとチャットにデフォルト設定)
		//embedded_svc.settings.disabledMinimizedText = '...'; //(エージェントがオフラインにデフォルト設定)

		//embedded_svc.settings.loadingText = ''; //(読み込み中にデフォルト設定)
		//embedded_svc.settings.storageDomain = 'yourdomain.com'; //(リリースのドメインを設定して、訪問者がチャットセッション中にサブドメインを移動できるようにします)

		// チャット の設定
		//embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
			// Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
			// Returns a valid button ID.
		//};
		//embedded_svc.settings.prepopulatedPrechatFields = {}; //事前チャットフォームの項目の自動入力を設定
		//embedded_svc.settings.fallbackRouting = []; //ボタン ID、ユーザー ID、または userId_buttonId の配列
		//embedded_svc.settings.offlineSupportMinimizedText = '...'; //(デフォルトは [お問い合わせ])

		embedded_svc.settings.enabledFeatures = ['LiveAgent'];
		embedded_svc.settings.entryFeature = 'LiveAgent';

		embedded_svc.init(
			'https://suchino-241107-992-demo.my.salesforce.com',
			'https://suchino-241107-992-demo.my.site.com/napili',
			gslbBaseURL,
			'00DGB000003WnP8',
			'LEX_LiveAgent_for_Napili',
			{
				baseLiveAgentContentURL: 'https://c.la1-c1-hn3.salesforceliveagent.com/content',
				deploymentId: '572GB000000HT0U',
				buttonId: '573GB000000HU5l',
				baseLiveAgentURL: 'https://d.la1-c1-hn3.salesforceliveagent.com/chat',
				eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I10000000XZdlEAG_168a73a473e',
				isOfflineSupportEnabled: false
			}
		);
		            // トランスクリプトにメールアドレスを追加する処理
            embedded_svc.settings.extraPrechatFormDetails = [{
                "label": "Email",
                "value": document.getElementById('email').value,
                "displayToAgent": true,
		"transcriptFields": Email__c
            }];

            embedded_svc.settings.extraPrechatInfo = [{
                "entityFieldMaps": [{
                    "doCreate": false,
                    "doFind": true,
                    "fieldName": "Email",
                    "isExactMatch": true,
                    "label": "Email"
                }],
                "entityName": "Contact"
            }];
	};

	if (!window.embedded_svc) {
		var s = document.createElement('script');
		s.setAttribute('src', 'https://suchino-241107-992-demo.my.salesforce.com/embeddedservice/5.0/esw.min.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}
</script>

</body>
</html>
